{"ast":null,"code":"import _toConsumableArray from\"D:/React/bc-38-buoi-1/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/React/bc-38-buoi-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardToDo=function CardToDo(){var rex=/^[\\s\\W]/;// Công việc người dùng nhập\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),todo=_useState2[0],setTodo=_useState2[1];// Danh sách công việc người dùng đã nhập, ban đầu nó là 1 mảng rỗng\nvar _useState3=useState(function(){return localStorage.getItem(\"JobTodoList\")!==null?JSON.parse(localStorage.getItem(\"JobTodoList\")):[];}),_useState4=_slicedToArray(_useState3,2),jobs=_useState4[0],setJobs=_useState4[1];console.log(\"job\",jobs);// Danh sách các công việc đã hoàn thành\nvar _useState5=useState(function(){return localStorage.getItem(\"JobTodoListDone\")!==null?JSON.parse(localStorage.getItem(\"JobTodoListDone\")):[];}),_useState6=_slicedToArray(_useState5,2),check=_useState6[0],setCheck=_useState6[1];var setLocalStorage=function setLocalStorage(key,value){localStorage.setItem(key,JSON.stringify(value));};// -------------------------HÀM TẠO MỚI CÔNG VIỆC SAU MỖI LẦN BẤM NÚT------------\nvar handleSubmit=function handleSubmit(){if(todo===undefined||todo===null||todo===\"\")return;setJobs(function(prev){var newJobs=[].concat(_toConsumableArray(prev),[todo]);setLocalStorage(\"JobTodoList\",newJobs);return newJobs;});setTodo(\"\");};// ------------------------------ HÀM XÓA CÔNG VIỆC---------------------------------\nvar handleDelete=function handleDelete(id){// console.log(jobs);\njobs.splice(id,1);// Sao chép lại mảng hiện tại đang bị xóa.\nvar jobRemaining=_toConsumableArray(jobs);// console.log(jobs);\nsetLocalStorage(\"JobTodoList\",jobRemaining);return setJobs(jobRemaining);};// ------------------------- HÀM XÓA CÔNG VIỆC HOÀN THÀNH-----------------------------\nvar handleDeleteComplete=function handleDeleteComplete(id){// console.log(jobs);\ncheck.splice(id,1);// Sao chép lại mảng hiện tại đang bị xóa.\nvar jobRemaining=_toConsumableArray(check);// console.log(jobs);\nsetLocalStorage(\"JobTodoListDone\",jobRemaining);return setCheck(jobRemaining);};// ------------------------------HÀM CHECK VIỆC ĐÃ LÀM-------------------------------\nvar handleCheck=function handleCheck(id){// Lọc qua danh sách công việc, lấy ra công việc đang check\nvar Filter=jobs.filter(function(item,index){return index===id;});console.log(Filter);// khi check thì đồng nghĩa xóa đi phần tử trong danh sách công việc\njobs.splice(id,1);var jobRemaining=_toConsumableArray(jobs);// Đồng thời cập nhật lại localStorage\nsetLocalStorage(\"JobTodoList\",jobRemaining);// Sau đó sẽ đưa giá trị đã xóa xuống danh sách hoàn thành\nvar jobAdded=[].concat(_toConsumableArray(check),_toConsumableArray(Filter));setLocalStorage(\"JobTodoListDone\",jobAdded);return setCheck(jobAdded);};function reg(e){if(rex.test(e.target.value)){return;}else{setTodo(e.target.value);}}// --------------------- RENDER GIAO DIỆN-------------------------------------\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__add\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"newTask\",name:\"newTask\",type:\"text\",placeholder:\"Enter an activity...\",value:todo,onChange:function onChange(e){return reg(e);}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,id:\"addItem\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__todo\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"todo\",id:\"todo\",children:jobs.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"todo-task\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title\",children:item}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-can icon-delete\",onClick:function onClick(){return handleDelete(index);}}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check icon-check\",onClick:function onClick(){return handleCheck(index);}})]})]},index);})}),/*#__PURE__*/_jsx(\"ul\",{className:\"todo\",id:\"completed\",children:check.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"todo-task\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title\",children:item}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-can icon-delete\",onClick:function onClick(){return handleDeleteComplete(index);}})})]},index);})})]})]});};export default CardToDo;","map":{"version":3,"names":["React","useState","CardToDo","rex","todo","setTodo","localStorage","getItem","JSON","parse","jobs","setJobs","console","log","check","setCheck","setLocalStorage","key","value","setItem","stringify","handleSubmit","undefined","prev","newJobs","handleDelete","id","splice","jobRemaining","handleDeleteComplete","handleCheck","Filter","filter","item","index","jobAdded","reg","e","test","target","map"],"sources":["D:/React/bc-38-buoi-1/src/components/CardToDo.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst CardToDo = () => {\r\n  const rex = /^[\\s\\W]/;\r\n  // Công việc người dùng nhập\r\n  const [todo, setTodo] = useState(\"\");\r\n  // Danh sách công việc người dùng đã nhập, ban đầu nó là 1 mảng rỗng\r\n  const [jobs, setJobs] = useState(() => {\r\n    return localStorage.getItem(\"JobTodoList\") !== null\r\n      ? JSON.parse(localStorage.getItem(\"JobTodoList\"))\r\n      : [];\r\n  });\r\n  console.log(\"job\", jobs);\r\n  // Danh sách các công việc đã hoàn thành\r\n  const [check, setCheck] = useState(() => {\r\n    return localStorage.getItem(\"JobTodoListDone\") !== null\r\n      ? JSON.parse(localStorage.getItem(\"JobTodoListDone\"))\r\n      : [];\r\n  });\r\n\r\n  const setLocalStorage = (key, value) => {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  };\r\n  // -------------------------HÀM TẠO MỚI CÔNG VIỆC SAU MỖI LẦN BẤM NÚT------------\r\n  const handleSubmit = () => {\r\n    if(todo===undefined || todo===null || todo===\"\") return;\r\n    setJobs((prev) => {\r\n      const newJobs = [...prev, todo];\r\n      setLocalStorage(\"JobTodoList\", newJobs);\r\n      return newJobs;\r\n    });\r\n    setTodo(\"\");\r\n  };\r\n  // ------------------------------ HÀM XÓA CÔNG VIỆC---------------------------------\r\n  const handleDelete = (id) => {\r\n    // console.log(jobs);\r\n    jobs.splice(id, 1);\r\n    // Sao chép lại mảng hiện tại đang bị xóa.\r\n    let jobRemaining = [...jobs];\r\n    // console.log(jobs);\r\n    setLocalStorage(\"JobTodoList\", jobRemaining);\r\n    return setJobs(jobRemaining);\r\n  };\r\n  // ------------------------- HÀM XÓA CÔNG VIỆC HOÀN THÀNH-----------------------------\r\n  const handleDeleteComplete = (id) => {\r\n    // console.log(jobs);\r\n    check.splice(id, 1);\r\n    // Sao chép lại mảng hiện tại đang bị xóa.\r\n    let jobRemaining = [...check];\r\n    // console.log(jobs);\r\n    setLocalStorage(\"JobTodoListDone\", jobRemaining);\r\n    return setCheck(jobRemaining);\r\n  };\r\n  // ------------------------------HÀM CHECK VIỆC ĐÃ LÀM-------------------------------\r\n  const handleCheck = (id) => {\r\n    // Lọc qua danh sách công việc, lấy ra công việc đang check\r\n    let Filter = jobs.filter((item, index) => index === id);\r\n    console.log(Filter);\r\n    // khi check thì đồng nghĩa xóa đi phần tử trong danh sách công việc\r\n    jobs.splice(id, 1);\r\n    let jobRemaining = [...jobs];\r\n    // Đồng thời cập nhật lại localStorage\r\n    setLocalStorage(\"JobTodoList\", jobRemaining);\r\n    // Sau đó sẽ đưa giá trị đã xóa xuống danh sách hoàn thành\r\n    let jobAdded = [...check, ...Filter];\r\n\r\n    setLocalStorage(\"JobTodoListDone\", jobAdded);\r\n    return setCheck(jobAdded);\r\n  };\r\n  function reg(e){\r\n    if (rex.test(e.target.value)) {\r\n      return;\r\n    } else {\r\n      setTodo(e.target.value);\r\n    }\r\n  }\r\n  // --------------------- RENDER GIAO DIỆN-------------------------------------\r\n  \r\n  return (\r\n    <div>\r\n      <div className=\"card__add\">\r\n        <input\r\n          id=\"newTask\"\r\n          name=\"newTask\"\r\n          type=\"text\"\r\n          placeholder=\"Enter an activity...\"\r\n          value={todo}\r\n          onChange={(e) => reg(e)}\r\n        />\r\n        <button onClick={handleSubmit} id=\"addItem\">\r\n          <i className=\"fa fa-plus\"></i>\r\n        </button>\r\n      </div>\r\n      <div className=\"card__todo\">\r\n        <ul className=\"todo\" id=\"todo\">\r\n          {jobs.map((item, index) => (\r\n            <li key={index} className=\"todo-task\">\r\n              <span className=\"todo-title\">{item}</span>\r\n              <div className=\"btn-group\">\r\n                <i\r\n                  className=\"fas fa-trash-can icon-delete\"\r\n                  onClick={() => handleDelete(index)}\r\n                ></i>\r\n                <i\r\n                  className=\"fas fa-check icon-check\"\r\n                  onClick={() => handleCheck(index)}\r\n                ></i>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        <ul className=\"todo\" id=\"completed\">\r\n          {check.map((item, index) => (\r\n            <li key={index} className=\"todo-task\">\r\n              <span className=\"todo-title\">{item}</span>\r\n              <div className=\"btn-group\">\r\n                <i\r\n                  className=\"fas fa-trash-can icon-delete\"\r\n                  onClick={() => handleDeleteComplete(index)}\r\n                ></i>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardToDo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}